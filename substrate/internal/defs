// SPDX-License-Identifier: BSD-3-Clause
#ifndef SUBSTRATE_INTERNAL_DEFS
#define SUBSTRATE_INTERNAL_DEFS

#if !defined(__has_cpp_attribute)
#	define __has_cpp_attribute(x) 0
#endif

#if __has_cpp_attribute(nodiscard)
#	define NO_DISCARD [[nodiscard]]
#else
#	define NO_DISCARD
#endif

#ifdef __GNUC__
#	define ALIGN(X)        __attribute__ ((aligned (X)))
#	define WARN_UNUSED		__attribute__((warn_unused_result))
#else
#	define ALIGN(X)
#	define WARN_UNUSED
#endif

#ifdef _WINDOWS
#	ifdef SUBSTRATE_BUILD_INTERNAL
#		define SUBSTRATE_API __declspec(dllexport)
#	else
#		define SUBSTRATE_API __declspec(dllimport)
#	endif
#	define SUBSTRATE_CLS_API SUBSTRATE_API
#else
#	define SUBSTRATE_CLS_API __attribute__ ((visibility("default")))
#	define SUBSTRATE_API extern SUBSTRATE_CLS_API
#endif

#if __cplusplus >= 201402L
#	define SUBSTRATE_DEPRECATE_R(reson) [[deprecated(reson)]]
#	define SUBSTRATE_DEPRECATE() [[deprecated]]
#else
#	ifdef _WINDOWS
#		define SUBSTRATE_DEPRECATE_R(reson) __declspec(deprecated(reson))
#		define SUBSTRATE_DEPRECATE() __declspec(deprecated)
#	else
#		define SUBSTRATE_DEPRECATE_R(reson) [[gnu::deprecated(reason)]]
#		define SUBSTRATE_DEPRECATE() __attribute__ ((deprecated))
#	endif
#endif

#endif /* SUBSTRATE_INTERNAL_DEFS */
/* vim: set ft=cpp ts=4 sw=4 noexpandtab: */
